{"version":3,"file":"chainEventHandlers.js","names":["chainEventHandlers","first","result","_objectSpread","_len","arguments","length","rest","Array","_key","_i","_rest","obj","_loop","value","key","prev","apply"],"sources":["src/chainEventHandlers.ts"],"sourcesContent":["type Assign<A, B> = {\n  [K in keyof A | keyof B]: K extends keyof A ?\n    K extends keyof B ?\n      NonNullable<A[K]> extends (...args: any[]) => any ?\n        NonNullable<B[K]> extends (...args: any[]) => any ?\n          A[K] | B[K]\n        : B[K]\n      : B[K]\n    : A[K]\n  : K extends keyof B ? B[K]\n  : never\n}\n\ntype MergeObjectsArray<T extends object[]> =\n  T extends [infer F, ...infer R] ?\n    Assign<F, R extends object[] ? MergeObjectsArray<R> : NonNullable<unknown>>\n  : NonNullable<unknown>\n\ntype PrettyObject<T> = { [K in keyof T]: T[K] } & NonNullable<unknown>\n\nexport function chainEventHandlers<\n  First extends Record<string, any>,\n  Rest extends Record<string, any>[],\n>(\n  first: First,\n  ...rest: Rest\n): PrettyObject<MergeObjectsArray<[First, ...Rest]>> {\n  const result: Record<string, any> = { ...first }\n  for (const obj of rest) {\n    for (const key in obj) {\n      const value = obj[key]\n      const prev = result[key]\n      if (typeof prev === 'function' && typeof value === 'function') {\n        result[key] = (...args: any[]) => {\n          prev(...args)\n          return value(...args)\n        }\n      } else {\n        result[key] = value\n      }\n    }\n  }\n  return result as MergeObjectsArray<[First, ...Rest]>\n}\n"],"mappings":";;;;;;;;;;AAoBO,SAASA,kBAAkBA,CAIhCC,KAAY,EAEuC;EACnD,IAAMC,MAA2B,GAAAC,aAAA,KAAQF,KAAK,CAAE;EAAA,SAAAG,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAF7CC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,OAAAA,IAAA,WAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;IAAJF,IAAI,CAAAE,IAAA,QAAAJ,SAAA,CAAAI,IAAA;EAAA;EAGP,SAAAC,EAAA,MAAAC,KAAA,GAAkBJ,IAAI,EAAAG,EAAA,GAAAC,KAAA,CAAAL,MAAA,EAAAI,EAAA,IAAE;IAAnB,IAAME,GAAG,GAAAD,KAAA,CAAAD,EAAA;IAAA,IAAAG,KAAA,YAAAA,MAAA,EACW;MACrB,IAAMC,KAAK,GAAGF,GAAG,CAACG,GAAG,CAAC;MACtB,IAAMC,IAAI,GAAGd,MAAM,CAACa,GAAG,CAAC;MACxB,IAAI,OAAOC,IAAI,KAAK,UAAU,IAAI,OAAOF,KAAK,KAAK,UAAU,EAAE;QAC7DZ,MAAM,CAACa,GAAG,CAAC,GAAG,YAAoB;UAChCC,IAAI,CAAAC,KAAA,SAAAZ,SAAQ,CAAC;UACb,OAAOS,KAAK,CAAAG,KAAA,SAAAZ,SAAQ,CAAC;QACvB,CAAC;MACH,CAAC,MAAM;QACLH,MAAM,CAACa,GAAG,CAAC,GAAGD,KAAK;MACrB;IACF,CAAC;IAXD,KAAK,IAAMC,GAAG,IAAIH,GAAG;MAAAC,KAAA;IAAA;EAYvB;EACA,OAAOX,MAAM;AACf","ignoreList":[]}
